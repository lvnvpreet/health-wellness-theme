{{ define "main" }}
<article class="offer-page">
  {{ if .Params.image }}
  <div class="offer-hero">
    <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="img-fluid">
    <div class="hero-overlay">
      <div class="container">
        <div class="row">
          <div class="col-lg-8">
            <div class="offer-badge">
              {{ if .Params.discount }}
              <span class="discount">{{ .Params.discount }} OFF</span>
              {{ end }}
              {{ if .Params.expires }}
              <span class="expires">Expires: {{ .Params.expires }}</span>
              {{ end }}
            </div>
            <h1 class="hero-title text-white">{{ .Title }}</h1>
            {{ if .Params.subtitle }}
            <p class="hero-subtitle text-white">{{ .Params.subtitle }}</p>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </div>
  {{ end }}
  
  <div class="container">
    <div class="row">
      <div class="col-12">
        {{ partial "breadcrumb.html" . }}
      </div>
    </div>
    
    <div class="row">
      <div class="col-lg-8">
        {{ if not .Params.image }}
        <header class="page-header">
          <div class="offer-badge mb-3">
            {{ if .Params.discount }}
            <span class="discount">{{ .Params.discount }} OFF</span>
            {{ end }}
            {{ if .Params.expires }}
            <span class="expires">Expires: {{ .Params.expires }}</span>
            {{ end }}
          </div>
          <h1 class="page-title">{{ .Title }}</h1>
          {{ if .Params.subtitle }}
          <p class="lead">{{ .Params.subtitle }}</p>
          {{ end }}
        </header>
        {{ end }}
        
        <div class="offer-content">
          {{ .Content }}
        </div>
        
        {{ if .Params.terms }}
        <div class="offer-terms mt-4">
          <h3>Terms & Conditions</h3>
          <ul class="terms-list">
            {{ range .Params.terms }}
            <li>{{ . }}</li>
            {{ end }}
          </ul>
        </div>
        {{ end }}
      </div>
      
      <div class="col-lg-4">
        <aside class="offer-sidebar">
          <div class="offer-info card">
            <div class="card-body">
              <h4>Offer Details</h4>
              {{ if .Params.original_price }}
              <div class="price-info">
                <span class="original-price">Was: {{ .Params.original_price }}</span>
                {{ if .Params.sale_price }}
                <span class="sale-price">Now: {{ .Params.sale_price }}</span>
                {{ end }}
              </div>
              {{ end }}
              
              {{ if .Params.valid_until }}
              <div class="validity">
                <strong>Valid Until:</strong> {{ .Params.valid_until }}
              </div>
              {{ end }}
              
              {{ if .Params.applicable_services }}
              <div class="applicable-services mt-3">
                <strong>Applicable To:</strong>
                <ul>
                  {{ range .Params.applicable_services }}
                  <li>{{ . }}</li>
                  {{ end }}
                </ul>
              </div>
              {{ end }}
              
              <div class="mt-3">
                {{ shortcode "appointment-cta" }}
              </div>
            </div>
          </div>
          
          {{ partial "contact-info.html" . }}
        </aside>
      </div>
    </div>
  </div>
</article>
{{ end }}
